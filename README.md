# TemplateHub

本项目旨在构建一个本地优先（local-first）的模板化平台，以 Template-as-Code 方式定义 Notion 数据库模板，并自动化渲染与社交媒体发布流程。

## 项目愿景
用户只需在 Notion 填写评分/笔记，即可自动生成适合 Instagram 等平台分享的图片与文案，并通过浏览器插件快速发布（最后一步需用户确认）。未来支持 LLM 生成文案、营销分析等功能。

## 核心功能
1. Template-as-Code：用 TypeScript/JSON 定义 Notion 模板字段、视图、计算公式，支持重复部署。
2. 本地部署器：CLI 或 MCP 工具自动部署到 Notion 工作区，敏感 token 仅保存在本地。
3. 渲染器：将 Notion 数据渲染为 1080×1080 卡片图片，支持布局、字体与配色配置。
4. 浏览器插件：基于 Chrome/Edge MV3，读取 Notion 页面内容，生成图片与文案，引导用户完成发布。
5. 扩展性：支持新增模板、可插拔文案规则与 LLM 接入，未来考虑营销分析模块。

## 首个模板：面包记录
- 必填：面包名称（用于卡片主标题）。
- 可选：照片、购买链接、价格、重量、成分/特征标签。
- 评分维度（必填）：口味、气味、口感/弹性、性价比、健康程度、新鲜度（1–5 分，默认 3 分）。
- 展现形式：评分以雷达图呈现，标签以徽章形式展示；输出 1080×1080 社媒卡片。

## 目录结构（建议）
```
templatehub/
  apps/
    extension/       浏览器插件源代码（MV3）
    cli/             本地命令行工具或 MCP 服务
  packages/
    templates/       各模板定义（schema、render spec、caption spec）
      breadscore/    面包评分模板示例
    notion/          Notion API 操作与部署逻辑
    render/          渲染引擎：HTML/CSS -> PNG
    caption/         文案生成规则与 LLM 封装
  docs/
    plan.md          项目计划/需求说明
    milestones.md    里程碑分解
    requirements-bread-record.md  面包记录模板需求
  README.md
```

## 开发计划（示例）
- M0：框架搭建（初始化结构、确定包管理与测试入口、首个模板规范）
- M1：模板部署与渲染器（Notion 模板部署、卡片渲染、基础文案规则）
- M2：浏览器插件 MVP（读取 Notion 数据、生成图片与文案、引导发布）
- M3：自动化与多模板（批量部署、插件历史/重发、多模板扩展）
- M4：LLM 与分析（文案生成增强、互动数据分析、营销模块规划）

## 隐私与安全
坚持本地优先，不在服务器端持久化用户凭据。浏览器自动化仅使用用户已登录会话，保留发布前最终确认。

## 测试与质量
每个里程碑包含相应的单元测试与端到端测试，确保模板部署与渲染稳定。

## 未来扩展
模板、渲染与文案生成建议采用可插拔架构，便于社区贡献不同类型的评分模板。
