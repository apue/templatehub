# 项目计划（Plan）

## 目标与范围
TemplateHub 旨在构建一个本地优先（local-first）的模板化平台，以 Template-as-Code 方式定义 Notion 数据库模板，并自动化渲染与社交媒体发布流程。核心用户路径是：在 Notion 记录面包信息与评分 → 生成社媒卡片图片 → 通过浏览器插件引导发布（最终确认由用户完成）。

当前首个模板为“面包记录模板”，用于个人复购记录与 Instagram 展示。
详细需求请见 `docs/requirements-bread-record.md`。

## 核心模块
- 模板定义（TypeScript/JSON）：字段、视图、计算公式、渲染规范与文案规范。
- 本地部署器（CLI/MCP）：将模板部署至 Notion 工作区，token 仅保存在本地。
- 渲染器：将 Notion 数据渲染为 1080×1080 卡片图片，支持布局/字体/配色。
- 浏览器插件（MV3）：读取 Notion 页面数据，调用渲染与文案规则，引导发布。
- 扩展层：可插拔文案生成规则与 LLM 接入，预留营销分析能力。

## 首个模板要求（面包记录）
- 必填字段：`name`（面包名称）。
- 可选字段：`photo`、`buy_url`、`price`、`weight`、`tags`（成分/特征标签，多选）。
- 必填评分维度：口味、气味、口感/弹性、性价比、健康程度、新鲜度。
- 评分范围：1–5，默认值 3。
- 渲染目标：1080×1080 卡片，标题 + 雷达图评分 + 标签展示（可选信息按需展示）。

## 架构与数据流
1) 本地部署器写入模板；2) 用户在 Notion 录入数据；3) 插件读取页面数据并调用渲染器生成图片与文案；4) 引导用户在 Instagram 网页端完成发布；5) 后续可采集互动数据进行分析。

## 隐私与安全
遵循本地优先，不在服务器端持久化用户凭据。浏览器自动化仅使用用户已登录会话，并保留发布前最终确认。

## 测试与质量
每个里程碑需包含单元测试与端到端测试，覆盖模板部署、渲染输出与插件主流程。

## 可扩展性原则
模板、渲染与文案生成应设计为可插拔模块，方便社区贡献不同类型评分模板（如面包、咖啡、电影等）。
